import { useGSAP } from '@gsap/react';
import gsap from 'gsap';
import { ScrollTrigger } from 'gsap/ScrollTrigger';
import { SplitText } from 'gsap/SplitText';
import React, { useRef } from 'react'



gsap.registerPlugin(ScrollTrigger , SplitText);

const FiveSection = () => {
  const buttonRef = useRef();
  const headText = useRef()

  useGSAP(() => {
    if (buttonRef.current ) {
      gsap.fromTo(buttonRef.current, 
        {
          scale: 0,
          rotationX: 180,
          rotationY: 180,
          z: 500,
          opacity: 0
        }, 
        {
          scale: 1,
          rotationX: 0,
          rotationY: 0,
          z: 0,
          opacity: 1,
          duration: 1.5,
          ease: "power4.out",
          scrollTrigger: {
            trigger: buttonRef.current,
            start: "top 80%",
            end: "top 50%",
            scrub: true,
            // markers: true,
          }
        }
      );
      



      gsap.fromTo(
        ['.rail_gradient.-core', '.rail_gradient.-pro'], 
        {
          transform: (index) => index === 0 ? 'translate(-20vw, calc(-2.3vw + 100vh))' : 'translate(20vw, calc(-2.3vw + 100vh))',
          opacity: 0.6
        }, 
        {
          transform: (index) => index === 0 ? 'translate(-20vw, 0)' : 'translate(20vw, 0)',
          opacity: 0.6,
          duration: 3,
          ease: 'cubic-bezier(.04,1.15,0.4,.99)',
          scrollTrigger: {
            trigger: '.rail_container',
            start: "top bottom",
            end: "top 80%",
            scrub: true,
            // markers: true,
          }
        }
      );
      




      animateText(".footer-head")




    }







    
  }, []);
  
  function animateText(textSelector) {
  
    document.querySelectorAll(textSelector).forEach((element) => {
      gsap.set(element, {
        transformPerspective: 500,
        transformOrigin: "center bottom",
        rotationX: 70
      });
  
      let mySplitText = new SplitText(element, { type: "chars" });
      let chars = mySplitText.chars;
  
      gsap.fromTo(
        element,
        {
          rotationX: 70,
          opacity: 0
        },
        {
          rotationX: 0,
          opacity: 1,
          duration: 1.5,
          ease: "back.out",
          scrollTrigger: {
            trigger: element,
            start: "top 80%",
            toggleActions: "play none none reset"
          }
        }
      );
  
      gsap.from(chars, {
        yPercent: 15,
        stagger: 0.04,
        opacity: 0,
        ease: "power1.out",
        duration: 1.5,
        scrollTrigger: {
          trigger: element,
          start: "top 80%",
          toggleActions: "play none none reset"
        }
      });
  
      gsap.fromTo(
        element,
        {
          opacity: 0
        },
        {
          opacity: 1,
          ease: "none",
          scrollTrigger: {
            trigger: element,
            start: "top 80%",
            end: "top 60%",
            scrub: true,
            toggleActions: "play reverse play reverse"
          }
        }
      );
  
      gsap.fromTo(
        element,
        {
          opacity: 1
        },
        {
          opacity: 0,
          ease: "none",
          scrollTrigger: {
            trigger: element,
            start: "top 20%",
            end: "top 5%",
            scrub: true,
            toggleActions: "play reverse play reverse"
          }
        }
      );
    });
  }
  
  animateText(".split");
  



  return (
    <div class="content z-30 bg-black">


<div className=' flex justify-center items-center flex-col'>

<div className=' text-[5vw] font-sf-bold  leading-tight text-[#fefeff]  text-center footer-head'>Have an idea in mind for <p> 
your business?</p> </div>

<div ref={buttonRef} class=" relative  mb-96 z-40 group">
  <div
    class="relative w-64 h-14 opacity-90 overflow-hidden rounded-xl bg-transparent z-10"
    >
    <div
      class="absolute z-10 -translate-x-44 group-hover:translate-x-[30rem] ease-in transistion-all duration-700 h-full w-44 bg-gradient-to-r from-gray-500 to-white/10 opacity-30 -skew-x-12"
      ></div>

    <div
      class="absolute flex items-center justify-center text-white z-[1] opacity-90 rounded-2xl inset-0.5 bg-black"
      >
      <button
        name="text"
        class="input font-semibold text-lg h-full opacity-90 w-full px-10 py-3 rounded-xl bg-black"
        >
        Let's Get In Touch 
      </button>
    </div>
    <div
      class="absolute duration-1000 group-hover:animate-spin w-full h-[100px] bg-gradient-to-r from-green-500 to-yellow-500 blur-[30px]"
      ></div>
  </div>
</div>

      </div>

    <div class="rail mb-5">
      <div class="screen-reader-text">DIALEDWEB</div>




      <div class="rail_container">

 

        
        <div class="rail_clip z-40">
        <div class="rail_color z-40">
          <div class="rail_gradients z-40">
            <img
            src="images/orange_blur.png"
            width="50"
            height="50"
            alt="Core Gradient"
            class="rail_gradient -core"
            />
            <img
            src="images/purple_blur.png"
            width="50"
            height="50"
            alt="Pro Gradient"
            class="rail_gradient -pro"
            />
          </div>
        </div>
        </div>
        <svg
        width="5482"
        height="500"
        viewBox="0 0 5482 500"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        class="rail_sizing"
        ></svg>

{/* <svg class="rail_mask">
  <clipPath id="contentTitle" clipPathUnits="objectBoundingBox"><path d="M0.024,1 L0.002,1 C0.001,1,0.001,1,0.001,1 L0.001,0.024 C0.001,0.02,0.001,0.018,0.002,0.018 L0.025,0.017 C0.03,0.015,0.034,0.027,0.038,0.053 C0.042,0.079,0.045,0.114,0.047,0.157 C0.049,0.201,0.05,0.249,0.05,0.302 V0.714 C0.05,0.769,0.049,0.819,0.047,0.865 C0.044,0.91,0.041,0.947,0.037,0.974 C0.034,1,0.029,1,0.024,1 M0.025,0.188 L0.016,0.19 L0.016,0.84 H0.024 C0.027,0.84,0.03,0.828,0.032,0.803 C0.034,0.778,0.035,0.748,0.035,0.714 V0.3 C0.035,0.27,0.034,0.244,0.032,0.221 C0.03,0.198,0.028,0.187,0.025,0.188 M0.075,1 H0.061 C0.06,1,0.06,1,0.06,1 L0.06,0.024 C0.06,0.02,0.06,0.018,0.061,0.018 H0.075 C0.075,0.018,0.075,0.02,0.075,0.024 L0.076,1 C0.076,1,0.075,1,0.075,1 M0.082,1 L0.098,0.024 C0.098,0.02,0.098,0.018,0.098,0.018 H0.117 C0.117,0.018,0.117,0.02,0.117,0.024 L0.132,1 C0.132,1,0.132,1,0.132,1 H0.118 C0.117,1,0.117,1,0.117,1 L0.116,0.904 H0.099 L0.097,1 C0.097,1,0.097,1,0.097,1 H0.083 C0.082,1,0.082,1,0.082,1 M0.107,0.348 L0.101,0.751 H0.113 L0.108,0.348 L0.107,0.295 L0.107,0.348 M0.181,1 H0.141 C0.14,1,0.14,1,0.14,1 L0.14,0.025 C0.14,0.02,0.14,0.018,0.141,0.018 H0.155 C0.155,0.018,0.155,0.02,0.155,0.025 L0.155,0.84 H0.181 C0.182,0.84,0.182,0.842,0.182,0.847 V1 C0.182,1,0.182,1,0.181,1 M0.231,1 H0.19 C0.19,1,0.19,1,0.19,1 L0.19,0.024 C0.19,0.02,0.19,0.018,0.191,0.018 H0.231 C0.231,0.018,0.231,0.02,0.231,0.025 V0.185 C0.231,0.189,0.231,0.191,0.231,0.191 H0.205 V0.415 H0.231 C0.231,0.415,0.231,0.417,0.231,0.421 L0.231,0.583 C0.231,0.587,0.231,0.589,0.231,0.589 H0.205 V0.84 H0.231 C0.231,0.84,0.231,0.842,0.231,0.847 V1 C0.231,1,0.231,1,0.231,1 M0.266,1 L0.243,1 C0.243,1,0.243,1,0.243,1 L0.243,0.024 C0.243,0.02,0.243,0.018,0.243,0.018 L0.267,0.017 C0.271,0.015,0.276,0.027,0.279,0.053 C0.283,0.079,0.286,0.114,0.288,0.157 C0.291,0.201,0.292,0.249,0.292,0.302 V0.714 C0.292,0.769,0.291,0.819,0.288,0.865 C0.286,0.91,0.283,0.947,0.279,0.974 C0.275,1,0.271,1,0.266,1 M0.267,0.188 L0.258,0.19 L0.258,0.84 H0.266 C0.269,0.84,0.271,0.828,0.274,0.803 C0.276,0.778,0.277,0.748,0.277,0.714 V0.3 C0.277,0.27,0.276,0.244,0.274,0.221 C0.272,0.198,0.269,0.187,0.267,0.188 M0.326,1 H0.311 C0.31,1,0.31,1,0.31,1 L0.295,0.024 C0.295,0.02,0.295,0.018,0.296,0.018 H0.31 C0.31,0.018,0.31,0.02,0.31,0.024 L0.318,0.672 L0.327,0.024 C0.327,0.02,0.327,0.018,0.327,0.018 H0.339 C0.339,0.018,0.339,0.02,0.339,0.024 L0.348,0.672 L0.356,0.024 C0.356,0.02,0.356,0.018,0.356,0.018 H0.37 C0.371,0.018,0.371,0.02,0.371,0.024 L0.356,1 C0.356,1,0.356,1,0.355,1 L0.355,1 H0.34 C0.34,1,0.34,1,0.339,1 L0.333,0.494 L0.327,1 C0.327,1,0.326,1,0.326,1 M0.419,1 H0.379 C0.378,1,0.378,1,0.378,1 L0.378,0.024 C0.378,0.02,0.378,0.018,0.379,0.018 H0.419 C0.419,0.018,0.419,0.02,0.419,0.025 V0.185 C0.419,0.189,0.419,0.191,0.419,0.191 H0.393 V0.415 H0.419 C0.419,0.415,0.419,0.417,0.419,0.421 L0.42,0.583 C0.42,0.587,0.419,0.589,0.419,0.589 H0.393 V0.84 H0.419 C0.419,0.84,0.42,0.842,0.42,0.847 V1 C0.42,1,0.419,1,0.419,1 M0.454,1 H0.431 C0.431,1,0.431,1,0.431,1 L0.431,0.024 C0.431,0.02,0.431,0.018,0.431,0.018 H0.456 C0.46,0.018,0.465,0.031,0.468,0.057 C0.472,0.083,0.475,0.118,0.477,0.162 C0.479,0.205,0.481,0.251,0.481,0.302 C0.481,0.343,0.48,0.381,0.478,0.417 C0.476,0.452,0.475,0.481,0.472,0.503 C0.475,0.53,0.477,0.562,0.478,0.599 C0.479,0.635,0.48,0.674,0.48,0.714 C0.48,0.769,0.479,0.82,0.476,0.866 C0.474,0.912,0.471,0.948,0.467,0.976 C0.463,1,0.459,1,0.454,1 M0.456,0.188 H0.446 V0.414 H0.456 C0.459,0.414,0.461,0.402,0.463,0.379 C0.464,0.355,0.465,0.329,0.465,0.302 C0.465,0.271,0.464,0.245,0.462,0.223 C0.461,0.2,0.458,0.188,0.456,0.188 M0.454,0.588 H0.446 L0.446,0.841 H0.454 C0.457,0.841,0.459,0.829,0.462,0.803 C0.464,0.778,0.465,0.748,0.465,0.714 C0.465,0.679,0.464,0.65,0.462,0.625 C0.459,0.6,0.457,0.588,0.454,0.588 M0.545,1 L0.522,1 C0.522,1,0.522,1,0.522,1 L0.522,0.024 C0.522,0.02,0.522,0.018,0.522,0.018 L0.546,0.017 C0.55,0.015,0.555,0.027,0.558,0.053 C0.562,0.079,0.565,0.114,0.567,0.157 C0.57,0.201,0.571,0.249,0.571,0.302 V0.714 C0.571,0.769,0.57,0.819,0.567,0.865 C0.565,0.91,0.562,0.947,0.558,0.974 C0.554,1,0.55,1,0.545,1 M0.546,0.188 L0.537,0.19 L0.537,0.84 H0.545 C0.548,0.84,0.55,0.828,0.552,0.803 C0.555,0.778,0.556,0.748,0.556,0.714 V0.3 C0.556,0.27,0.555,0.244,0.553,0.221 C0.551,0.198,0.548,0.187,0.546,0.188 M0.596,1 H0.581 C0.581,1,0.581,1,0.581,1 L0.581,0.024 C0.581,0.02,0.581,0.018,0.581,0.018 H0.595 C0.596,0.018,0.596,0.02,0.596,0.024 L0.596,1 C0.596,1,0.596,1,0.596,1 M0.603,1 L0.618,0.024 C0.618,0.02,0.619,0.018,0.619,0.018 H0.637 C0.637,0.018,0.638,0.02,0.638,0.024 L0.653,1 C0.653,1,0.653,1,0.652,1 H0.638 C0.638,1,0.638,1,0.638,1 L0.636,0.904 H0.619 L0.618,1 C0.618,1,0.618,1,0.617,1 H0.603 C0.603,1,0.603,1,0.603,1 M0.627,0.348 L0.622,0.751 H0.634 L0.629,0.348 L0.628,0.295 L0.627,0.348 M0.702,1 H0.661 C0.661,1,0.661,1,0.661,1 L0.661,0.025 C0.661,0.02,0.661,0.018,0.661,0.018 H0.675 C0.676,0.018,0.676,0.02,0.676,0.025 L0.676,0.84 H0.702 C0.702,0.84,0.702,0.842,0.702,0.847 V1 C0.702,1,0.702,1,0.702,1 M0.751,1 H0.711 C0.711,1,0.71,1,0.71,1 L0.711,0.024 C0.711,0.02,0.711,0.018,0.711,0.018 H0.751 C0.752,0.018,0.752,0.02,0.752,0.025 V0.185 C0.752,0.189,0.752,0.191,0.751,0.191 H0.726 V0.415 H0.751 C0.752,0.415,0.752,0.417,0.752,0.421 L0.752,0.583 C0.752,0.587,0.752,0.589,0.751,0.589 H0.726 V0.84 H0.751 C0.752,0.84,0.752,0.842,0.752,0.847 V1 C0.752,1,0.752,1,0.751,1 M0.786,1 L0.764,1 C0.763,1,0.763,1,0.763,1 L0.763,0.024 C0.763,0.02,0.763,0.018,0.764,0.018 L0.787,0.017 C0.792,0.015,0.796,0.027,0.8,0.053 C0.804,0.079,0.807,0.114,0.809,0.157 C0.811,0.201,0.812,0.249,0.812,0.302 V0.714 C0.812,0.769,0.811,0.819,0.809,0.865 C0.807,0.91,0.803,0.947,0.799,0.974 C0.796,1,0.791,1,0.786,1 M0.787,0.188 L0.779,0.19 L0.778,0.84 H0.786 C0.789,0.84,0.792,0.828,0.794,0.803 C0.796,0.778,0.797,0.748,0.797,0.714 V0.3 C0.797,0.27,0.796,0.244,0.794,0.221 C0.792,0.198,0.79,0.187,0.787,0.188 M0.846,1 H0.831 C0.831,1,0.831,1,0.831,1 L0.816,0.024 C0.816,0.02,0.816,0.018,0.816,0.018 H0.83 C0.831,0.018,0.831,0.02,0.831,0.024 L0.839,0.672 L0.847,0.024 C0.847,0.02,0.848,0.018,0.848,0.018 H0.859 C0.86,0.018,0.86,0.02,0.86,0.024 L0.868,0.672 L0.876,0.024 C0.876,0.02,0.876,0.018,0.877,0.018 H0.891 C0.891,0.018,0.891,0.02,0.891,0.024 L0.876,1 C0.876,1,0.876,1,0.876,1 L0.876,1 H0.86 C0.86,1,0.86,1,0.86,1 L0.853,0.494 L0.847,1 C0.847,1,0.847,1,0.846,1 M0.94,1 H0.899 C0.899,1,0.899,1,0.899,1 L0.899,0.024 C0.899,0.02,0.899,0.018,0.899,0.018 H0.939 C0.94,0.018,0.94,0.02,0.94,0.025 V0.185 C0.94,0.189,0.94,0.191,0.939,0.191 H0.914 V0.415 H0.939 C0.94,0.415,0.94,0.417,0.94,0.421 L0.94,0.583 C0.94,0.587,0.94,0.589,0.94,0.589 H0.914 V0.84 H0.94 C0.94,0.84,0.94,0.842,0.94,0.847 V1 C0.94,1,0.94,1,0.94,1 M0.974,1 H0.952 C0.951,1,0.951,1,0.951,1 L0.951,0.024 C0.951,0.02,0.952,0.018,0.952,0.018 H0.976 C0.981,0.018,0.985,0.031,0.989,0.057 C0.993,0.083,0.996,0.118,0.998,0.162 C1,0.205,1,0.251,1,0.302 C1,0.343,1,0.381,0.999,0.417 C0.997,0.452,0.995,0.481,0.993,0.503 C0.995,0.53,0.997,0.562,0.998,0.599 C1,0.635,1,0.674,1,0.714 C1,0.769,0.999,0.82,0.997,0.866 C0.995,0.912,0.991,0.948,0.987,0.976 C0.983,1,0.979,1,0.974,1 M0.976,0.188 H0.967 V0.414 H0.976 C0.979,0.414,0.981,0.402,0.983,0.379 C0.985,0.355,0.986,0.329,0.986,0.302 C0.986,0.271,0.985,0.245,0.983,0.223 C0.981,0.2,0.979,0.188,0.976,0.188 M0.974,0.588 H0.967 L0.966,0.841 H0.974 C0.977,0.841,0.98,0.829,0.982,0.803 C0.984,0.778,0.985,0.748,0.985,0.714 C0.985,0.679,0.984,0.65,0.982,0.625 C0.98,0.6,0.977,0.588,0.974,0.588"></path></clipPath>
</svg> */}

<svg class="rail_mask">
		<clipPath id="contentTitle" clipPathUnits="objectBoundingBox">
		  <path
			d="M0.001,1 V0.014 H0.025 C0.034,0.014,0.041,0.058,0.046,0.143 C0.051,0.23,0.053,0.354,0.053,0.514 C0.053,0.675,0.051,0.798,0.046,0.884 C0.041,0.971,0.034,1,0.025,1 H0.001 M0.014,0.831 H0.023 C0.035,0.831,0.04,0.725,0.04,0.514 C0.04,0.413,0.039,0.334,0.036,0.279 C0.033,0.225,0.029,0.197,0.023,0.197 H0.014 V0.831 M0.075,0.014 V1 H0.062 V0.014 H0.075 M0.115,0.013 L0.138,1 H0.124 L0.12,0.79 H0.098 L0.093,1 H0.08 L0.102,0.013 H0.115 M0.116,0.63 L0.109,0.258 L0.101,0.63 H0.116 M0.184,0.825 V1 H0.143 V0.014 H0.155 V0.825 H0.184 M0.235,0.014 V0.194 H0.204 V0.411 H0.233 V0.584 H0.204 V0.829 H0.236 V1 H0.191 V0.014 H0.235 M0.245,1 V0.014 H0.268 C0.277,0.014,0.284,0.058,0.289,0.143 C0.294,0.23,0.297,0.354,0.297,0.514 C0.297,0.675,0.294,0.798,0.289,0.884 C0.284,0.971,0.277,1,0.268,1 H0.245 M0.257,0.831 H0.267 C0.278,0.831,0.284,0.725,0.284,0.514 C0.284,0.413,0.282,0.334,0.279,0.279 C0.277,0.225,0.272,0.197,0.267,0.197 H0.257 V0.831 M0.3,0.014 H0.313 L0.322,0.693 L0.333,0.014 H0.345 L0.355,0.702 L0.364,0.014 H0.377 L0.361,1 H0.348 L0.338,0.331 L0.329,1 H0.316 L0.3,0.014 M0.427,0.014 V0.194 H0.396 V0.411 H0.424 V0.584 H0.396 V0.829 H0.427 V1 H0.383 V0.014 H0.427 M0.436,0.014 H0.464 C0.469,0.014,0.474,0.035,0.477,0.077 C0.481,0.12,0.483,0.181,0.483,0.265 C0.483,0.313,0.482,0.354,0.48,0.39 C0.479,0.427,0.477,0.453,0.475,0.472 C0.482,0.507,0.485,0.588,0.485,0.716 C0.485,0.811,0.483,0.884,0.48,0.936 C0.476,0.988,0.471,1,0.465,1 H0.436 V0.014 M0.449,0.184 V0.42 H0.46 C0.467,0.42,0.47,0.38,0.47,0.303 C0.47,0.257,0.469,0.226,0.467,0.209 C0.466,0.192,0.463,0.184,0.46,0.184 H0.449 M0.449,0.568 L0.449,0.84 H0.462 C0.465,0.84,0.468,0.831,0.469,0.812 C0.471,0.793,0.472,0.758,0.472,0.704 C0.472,0.65,0.471,0.613,0.469,0.595 C0.467,0.577,0.464,0.568,0.461,0.568 H0.449 M0.517,1 V0.014 H0.541 C0.55,0.014,0.557,0.058,0.562,0.143 C0.567,0.23,0.569,0.354,0.569,0.514 C0.569,0.675,0.567,0.798,0.562,0.884 C0.557,0.971,0.55,1,0.541,1 H0.517 M0.53,0.831 H0.539 C0.55,0.831,0.556,0.725,0.556,0.514 C0.556,0.413,0.555,0.334,0.552,0.279 C0.549,0.225,0.545,0.197,0.539,0.197 H0.53 V0.831 M0.591,0.014 V1 H0.578 V0.014 H0.591 M0.631,0.013 L0.654,1 H0.64 L0.635,0.79 H0.614 L0.609,1 H0.596 L0.618,0.013 H0.631 M0.632,0.63 L0.625,0.258 L0.617,0.63 H0.632 M0.7,0.825 V1 H0.658 V0.014 H0.671 V0.825 H0.7 M0.751,0.014 V0.194 H0.72 V0.411 H0.748 V0.584 H0.72 V0.829 H0.752 V1 H0.707 V0.014 H0.751 M0.76,1 V0.014 H0.784 C0.793,0.014,0.8,0.058,0.805,0.143 C0.81,0.23,0.813,0.354,0.813,0.514 C0.813,0.675,0.81,0.798,0.805,0.884 C0.8,0.971,0.793,1,0.784,1 H0.76 M0.773,0.831 H0.783 C0.794,0.831,0.8,0.725,0.8,0.514 C0.8,0.413,0.798,0.334,0.795,0.279 C0.793,0.225,0.788,0.197,0.783,0.197 H0.773 V0.831 M0.816,0.014 H0.829 L0.838,0.693 L0.848,0.014 H0.861 L0.871,0.702 L0.88,0.014 H0.893 L0.877,1 H0.864 L0.854,0.331 L0.844,1 H0.831 L0.816,0.014 M0.943,0.014 V0.194 H0.912 V0.411 H0.94 V0.584 H0.912 V0.829 H0.943 V1 H0.899 V0.014 H0.943 M0.952,0.014 H0.98 C0.985,0.014,0.99,0.035,0.993,0.077 C0.997,0.12,0.998,0.181,0.998,0.265 C0.998,0.313,0.998,0.354,0.996,0.39 C0.995,0.427,0.993,0.453,0.991,0.472 C0.998,0.507,1,0.588,1,0.716 C1,0.811,0.999,0.884,0.996,0.936 C0.992,0.988,0.987,1,0.981,1 H0.952 V0.014 M0.965,0.184 V0.42 H0.976 C0.983,0.42,0.986,0.38,0.986,0.303 C0.986,0.257,0.985,0.226,0.983,0.209 C0.982,0.192,0.979,0.184,0.976,0.184 H0.965 M0.965,0.568 L0.965,0.84 H0.977 C0.981,0.84,0.983,0.831,0.985,0.812 C0.987,0.793,0.988,0.758,0.988,0.704 C0.988,0.65,0.987,0.613,0.985,0.595 C0.983,0.577,0.98,0.568,0.977,0.568 H0.965"
		  ></path>
		</clipPath>
	  </svg>

      </div>
    </div>

    </div>
  )
}

export default FiveSection
